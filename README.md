# Лабораторная работа №1: Разработка защищенного REST API с интеграцией в CI/CD

## 1. Описание проекта
Данная лабораторная работа посвящена разработке безопасного REST API с применением современных мер защиты, CI/CD с автоматическим сканированием на уязвимости и проверкой зависимостей.

### 1.1 Стек технологий
- **Язык программирования:** Java
- **Фреймворк:** Spring Boot 4.0.0
- **База данных:** PostgreSQL, Hibernate
- **Безопасность:** Spring Security + JWT
- **Инструменты анализа безопасности:**
    - SpotBugs
    - OWASP Dependency-Check
- **CI/CD:** GitHub Actions

---

## 2. Описание API

Проект реализует два основных эндпоинта:

1. **Аутентификация**
    - **POST** `/auth/login`  
      Авторизация пользователя, возвращает JWT.  
      **Пример запроса:**
      ```json
      {
        "login": "username",
        "password": "12345678"
      }
      ```
      **Пример ответа:**
      ```
      eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VybmFtZSIsImlhdCI6MTc2NTk0NTY0MCwiZXhwIjoxNzY1OTQ5MjQwfQ.DtEEO7jo_NFdbqfTLi4c4igh6PGzJnYn8sKF9a2YWiM
      ```

2. **Доступ к защищенным данным**
    - **GET** `/api/data`  
      Требует JWT в заголовке Authorization (`Bearer <token>`).

**Скриншоты работы API:**  
*![img.png](img.png)*
![img_1.png](img_1.png)

---

## 3. Реализованные меры защиты

1. **Аутентификация и авторизация**
    - Используется Spring Security + JWT.
    - Все эндпоинты `/api/**` защищены, доступ к `/auth/**` открыт.

2. **Защита от SQLi**
    - ORM Hibernate обеспечивает защиту от SQLi.

3. **Безопасное хранение паролей**
    - Пароли хранятся в базе данных в хешированном виде(BCrypt).

4. **Защита от XSS**
    - Защита от XSS обеспечивается путем экранирования всех пользовательских данных.

---

## 4. CI/CD и безопасность

Pipeline настроен через GitHub Actions:

- Автоматический запуск тестов при push/pull request.
- Статический анализ кода через **SpotBugs**.
- Анализ зависимостей через **OWASP Dependency-Check**.

**Отчеты из pipeline:**

![img_2.png](img_2.png)
![img_3.png](img_3.png)
